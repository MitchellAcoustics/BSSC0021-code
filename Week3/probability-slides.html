<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dr Andrew Mitchell">
<meta name="dcterms.date" content="2025-01-30">
<meta name="description" content="Introductory lecture on Probability and Sampling for BSSC0021 - Business Statistics and Data Analytics.">

<title>4&nbsp; Sampling, Experiments, and Probability</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../Week3/sampling-slides.html" rel="next">
<link href="../Week2/live-slides.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-626149efe8f5d16e1d391ba177679bf0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-1.2.0/all.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-1.2.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta name="quarto:status" content="draft">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><div id="quarto-draft-alert" class="alert alert-warning"><i class="bi bi-pencil-square"></i>Draft</div>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../Week3/probability-slides.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Sampling, Experiments,<br>
and Probability</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
        <div class="sidebar-tools-collapse">
    <a href="../Code.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">BSSC0021 Professional Practice 4: Business Statistics and Data Analytics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Week2/live-slides.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Visualization</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link active" data-scroll-target="#learning-objectives">Learning Objectives</a></li>
  <li><a href="#probability" id="toc-probability" class="nav-link" data-scroll-target="#probability"><span class="header-section-number">5</span> Probability</a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction"><span class="header-section-number">5.1</span> Introduction</a></li>
  <li><a href="#what-is-probability" id="toc-what-is-probability" class="nav-link" data-scroll-target="#what-is-probability"><span class="header-section-number">5.2</span> What is Probability?</a></li>
  <li><a href="#key-terms" id="toc-key-terms" class="nav-link" data-scroll-target="#key-terms"><span class="header-section-number">5.3</span> Key Terms</a></li>
  <li><a href="#formal-properties-of-probability" id="toc-formal-properties-of-probability" class="nav-link" data-scroll-target="#formal-properties-of-probability"><span class="header-section-number">5.4</span> Formal Properties of Probability</a></li>
  <li><a href="#how-do-we-determine-probabilities" id="toc-how-do-we-determine-probabilities" class="nav-link" data-scroll-target="#how-do-we-determine-probabilities"><span class="header-section-number">5.5</span> How Do We Determine Probabilities?</a></li>
  <li><a href="#probability-distributions-free-throw-example" id="toc-probability-distributions-free-throw-example" class="nav-link" data-scroll-target="#probability-distributions-free-throw-example"><span class="header-section-number">5.6</span> Probability Distributions: Free Throw Example</a></li>
  <li><a href="#law-of-large-numbers" id="toc-law-of-large-numbers" class="nav-link" data-scroll-target="#law-of-large-numbers"><span class="header-section-number">5.7</span> Law of Large Numbers</a></li>
  <li><a href="#classical-probability-de-mérés-problem" id="toc-classical-probability-de-mérés-problem" class="nav-link" data-scroll-target="#classical-probability-de-mérés-problem"><span class="header-section-number">5.8</span> Classical Probability: de Méré’s Problem</a></li>
  <li><a href="#de-mérés-problem-visual-analysis" id="toc-de-mérés-problem-visual-analysis" class="nav-link" data-scroll-target="#de-mérés-problem-visual-analysis"><span class="header-section-number">5.9</span> de Méré’s Problem: Visual Analysis</a></li>
  <li><a href="#conditional-probability" id="toc-conditional-probability" class="nav-link" data-scroll-target="#conditional-probability"><span class="header-section-number">5.10</span> Conditional Probability</a></li>
  <li><a href="#health-data-example" id="toc-health-data-example" class="nav-link" data-scroll-target="#health-data-example"><span class="header-section-number">5.11</span> Health Data Example</a></li>
  <li><a href="#independence" id="toc-independence" class="nav-link" data-scroll-target="#independence"><span class="header-section-number">5.12</span> Independence</a></li>
  <li><a href="#independence-health-example" id="toc-independence-health-example" class="nav-link" data-scroll-target="#independence-health-example"><span class="header-section-number">5.13</span> Independence: Health Example</a></li>
  <li><a href="#bayes-rule" id="toc-bayes-rule" class="nav-link" data-scroll-target="#bayes-rule"><span class="header-section-number">5.14</span> Bayes’ Rule</a></li>
  <li><a href="#odds-and-odds-ratios" id="toc-odds-and-odds-ratios" class="nav-link" data-scroll-target="#odds-and-odds-ratios"><span class="header-section-number">5.15</span> Odds and Odds Ratios</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">5.16</span> Summary</a></li>
  <li><a href="#questions" id="toc-questions" class="nav-link" data-scroll-target="#questions"><span class="header-section-number">5.17</span> Questions?</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Sampling, Experiments,<br>
and Probability</span></h1>
  <div class="quarto-categories">
    <div class="quarto-category">lecture</div>
  </div>
  </div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Dr Andrew Mitchell <a href="mailto:a.j.mitchell@ucl.ac.uk" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0003-0978-5046" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Lecturer in AI and Machine Learning for Sustainable Construction
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 30, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="columns">
<div class="column" style="width:50%;">
<p><a href="../_slides/Week3/probability-slides.html" class="btn btn-outline-primary" role="button" data-toggle="tooltip" title="Here's a tooltip">Slides</a></p>
</div><div class="column" style="width:50%;">
<p><a class="btn btn-outline-primary" role="button" href="../_slides/Week3/probability-slides.pdf" download="Week3-probability-slides.pdf"> Download PDF Slides </a></p>
</div>
</div>
<section id="learning-objectives" class="level2 r-fit-text unnumbered page-columns page-full">
<h2 class="r-fit-text unnumbered anchored" data-anchor-id="learning-objectives">Learning Objectives</h2>
<p>After this lecture, you should be able to:</p>
<div class="incremental">
<p><i class="fa-solid fa-dice" aria-label="dice"></i> Describe the sample space for a random experiment</p>
<p><i class="fa-solid fa-chart-bar" aria-label="chart-bar"></i> Compute relative frequency and empirical probability</p>
<p><i class="fa-solid fa-project-diagram" aria-label="project-diagram"></i> Understand probability rules for events and combinations</p>
<p><i class="fa-solid fa-chart-line" aria-label="chart-line"></i> Explain the law of large numbers</p>
<p><i class="fa-solid fa-network-wired" aria-label="network-wired"></i> Understand conditional probability and independence</p>
<p><i class="fa-solid fa-equals" aria-label="equals"></i> Use Bayes’ theorem for real-world applications</p>
</div>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<p>This lecture is adapted from Chapters 6 and 7 of <span class="citation" data-cites="Poldrack2023Statistical">Poldrack (<a href="#ref-Poldrack2023Statistical" role="doc-biblioref">2023</a>)</span>.</p>
</div></div><div class="notes">
<p>These learning objectives are carefully chosen to focus on practical understanding rather than mathematical rigor. They align with the chapter’s goals while remaining accessible to non-technical students.</p>
<p>Key teaching points:</p>
<ul>
<li>Emphasize practical understanding over mathematical formalism</li>
<li>Focus on concepts that will be useful in business and data analysis</li>
<li>Build foundation for later statistical concepts</li>
</ul>
</div>
</section>
<section id="probability" class="level1" data-background-color="#40666e" data-number="5">
<h1 data-background-color="#40666e" data-number="5"><span class="header-section-number">5</span> Probability</h1>
<section id="introduction" class="level2 r-fit-text" data-number="5.1">
<h2 class="r-fit-text anchored" data-number="5.1" data-anchor-id="introduction"><span class="header-section-number">5.1</span> Introduction</h2>
<p>Probability theory is the branch of mathematics that deals with chance and uncertainty. It forms an important part of the foundation for statistics, because it provides us with the mathematical tools to describe uncertain events.</p>
<div class="incremental">
<ul class="incremental">
<li><strong>Historical Origins</strong>
<ul class="incremental">
<li>Developed by mathematicians studying gambling</li>
<li>Key advances from Pascal and Fermat’s correspondence</li>
<li>Evolved into fundamental tool for statistics</li>
</ul></li>
<li><strong>Modern Applications</strong>
<ul class="incremental">
<li>Business decision-making under uncertainty</li>
<li>Weather forecasting and risk assessment</li>
<li>Medical diagnosis and testing</li>
<li>Data analysis and machine learning</li>
</ul></li>
</ul>
</div>
<div class="notes">
<p>The study of probability arose in part due to interest in understanding games of chance, like cards or dice. These games provide useful examples of many statistical concepts, because when we repeat these games the likelihood of different outcomes remains (mostly) the same.</p>
<p>Historical context:</p>
<ul>
<li>Early probability theory developed by mathematicians studying gambling</li>
<li>Pascal and Fermat’s correspondence about gambling problems</li>
<li>Evolution into a fundamental tool for statistics and data analysis</li>
</ul>
<p>Key points to emphasize:</p>
<ul>
<li>Probability helps us quantify uncertainty</li>
<li>Games of chance provide consistent, repeatable examples</li>
<li>Forms the foundation for all statistical analysis</li>
<li>Relevant to business decisions under uncertainty</li>
</ul>
<p>Teaching tip: Start by asking students about their intuitive understanding of probability - they likely encounter it daily in weather forecasts, sports statistics, or business reports.</p>
<p>Common misconceptions to address:</p>
<ul>
<li>Probability is not just about gambling</li>
<li>While based in mathematics, focus will be on practical understanding</li>
<li>Importance in modern data analysis and decision making</li>
</ul>
</div>
</section>
<section id="what-is-probability" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="what-is-probability"><span class="header-section-number">5.2</span> What is Probability?</h2>
<ul>
<li>A number describing the likelihood of an event occurring</li>
<li>Ranges from 0 (impossibility) to 1 (certainty)</li>
<li>Sometimes expressed as percentages (0% to 100%)</li>
</ul>
<div class="fragment">
<p><strong>Examples from everyday life:</strong></p>
<ul>
<li>Weather forecast: “20% chance of rain today”</li>
<li>Sports: Steph Curry’s 91% free throw success rate</li>
<li>Medical tests: PSA test with 80% sensitivity</li>
</ul>
</div>
<div class="notes">
<p>Informally, we usually think of probability as a number that describes the likelihood of some event occurring, which ranges from zero (impossibility) to one (certainty). Sometimes probabilities will instead be expressed in percentages, which range from zero to one hundred.</p>
<p>Key concepts to emphasize:</p>
<ol type="1">
<li><p>Probability scale:</p>
<ul>
<li>0 = impossible (e.g., rolling a 7 on a six-sided die)</li>
<li>1 = certain (e.g., rolling a number between 1 and 6 on a six-sided die)</li>
<li>Most real-world events fall between these extremes</li>
</ul></li>
<li><p>Everyday encounters with probability:</p>
<ul>
<li>Weather forecasts: Percentage chance of rain</li>
<li>Sports statistics: Player performance rates</li>
<li>Medical tests: Accuracy rates</li>
<li>Insurance: Risk assessments</li>
</ul></li>
<li><p>Common misconceptions:</p>
<ul>
<li>A 20% chance of rain doesn’t mean it will rain 20% of the day</li>
<li>Probabilities don’t predict individual outcomes, only long-term patterns</li>
<li>Even very unlikely events can happen (and do happen regularly)</li>
</ul></li>
<li><p>Historical context:</p>
<ul>
<li>Early probability theory developed through analysis of games of chance</li>
<li>Modern applications far beyond gambling</li>
<li>Critical role in scientific research and data analysis</li>
</ul></li>
</ol>
<p>Teaching tips:</p>
<ul>
<li>Ask students about their daily encounters with probability</li>
<li>Discuss how they interpret weather forecasts</li>
<li>Challenge intuitive misconceptions about probability</li>
<li>Connect to real-world decision-making under uncertainty</li>
</ul>
<p>Time allocation: Spend about 3-4 minutes on this slide to establish fundamental concepts that will be built upon throughout the lecture.</p>
</div>
</section>
<section id="key-terms" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="key-terms"><span class="header-section-number">5.3</span> Key Terms</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset nav-pills">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">1. Experiment</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">2. Sample Space</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">3. Event</a></li></ul>
<div class="tab-content nav-pills">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p><strong>Any activity that produces or observes an outcome</strong></p>
<div class="incremental">
<ul class="incremental">
<li>Simple Examples:
<ul class="incremental">
<li>Flipping a coin</li>
<li>Rolling a die</li>
<li>Drawing a card</li>
</ul></li>
<li>Real-world Examples:
<ul class="incremental">
<li>Trying a new route to work</li>
<li>Testing a medical treatment</li>
<li>Measuring customer satisfaction</li>
</ul></li>
</ul>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p><strong>Set of all possible outcomes</strong></p>
<div class="incremental">
<ul class="incremental">
<li>Discrete Sets:
<ul class="incremental">
<li>Coin flip: {heads, tails}</li>
<li>Six-sided die: {1,2,3,4,5,6}</li>
<li>Card draw: {52 possible cards}</li>
</ul></li>
<li>Continuous Sets:
<ul class="incremental">
<li>Time to work: all real numbers &gt; 0</li>
<li>Temperature readings</li>
<li>Stock prices</li>
</ul></li>
</ul>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p><strong>A subset of the sample space</strong></p>
<div class="incremental">
<ul class="incremental">
<li>Single Events:
<ul class="incremental">
<li>Getting heads in a coin flip</li>
<li>Rolling a 4 on a die</li>
<li>Drawing the ace of spades</li>
</ul></li>
<li>Compound Events:
<ul class="incremental">
<li>Rolling an even number</li>
<li>Drawing a red card</li>
<li>Arriving at work in under 20 minutes</li>
</ul></li>
</ul>
</div>
</div>
</div>
</div>
<div class="notes">
<p>To formalize probability theory, we need these precise definitions:</p>
<p>An experiment is any activity that produces or observes an outcome. Examples are flipping a coin, rolling a 6-sided die, or trying a new route to work to see if it’s faster than the old route.</p>
<p>The sample space is the set of possible outcomes for an experiment. We represent these by listing them within a set of squiggly brackets. For a coin flip, the sample space is {heads, tails}. For a six-sided die, the sample space is each of the possible numbers that can appear: {1,2,3,4,5,6}. For the amount of time it takes to get to work, the sample space is all possible real numbers greater than zero (since it can’t take a negative amount of time to get somewhere, at least not yet).</p>
<p>An event is a subset of the sample space. In principle it could be one or more of possible outcomes in the sample space, but here we will focus primarily on elementary events which consist of exactly one possible outcome.</p>
</div>
</section>
<section id="formal-properties-of-probability" class="level2 smaller" data-number="5.4">
<h2 class="smaller anchored" data-number="5.4" data-anchor-id="formal-properties-of-probability"><span class="header-section-number">5.4</span> Formal Properties of Probability</h2>
<p>Kolmogorov’s axioms define what makes a value a probability:</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="incremental">
<ol class="incremental" type="1">
<li><strong>Non-negativity</strong>: Probability cannot be negative
<ul class="incremental">
<li><span class="math inline">\(\mathrm{P}(E_i) \ge 0\)</span></li>
<li>Example: Can’t have -10% chance of rain</li>
<li>All probabilities must be zero or positive</li>
</ul></li>
<li><strong>Total Probability</strong>: All outcomes sum to 1
<ul class="incremental">
<li><span class="math inline">\(\sum_{i=1}^N{\mathrm{P}(E_i)} = 1\)</span></li>
<li>Example: Rolling a die
<ul class="incremental">
<li><span class="math inline">\(\mathrm{P(1) + P(2) + P(3) + P(4) + P(5) + P(6)} = 1\)</span></li>
<li>Each P(number) = 1/6, so <span class="math inline">\(6 \cdot (1/6) = 1\)</span></li>
</ul></li>
</ul></li>
<li><strong>Upper Bound</strong>: Individual probability ≤ 1
<ul class="incremental">
<li><span class="math inline">\(\mathrm{P}(E_i)\le 1\)</span></li>
<li>Follows from rules 1 and 2</li>
<li>Example: Can’t have 120% chance of success</li>
</ul></li>
</ol>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment">
<p><strong>Why These Rules Matter:</strong></p>
<ul>
<li>Ensure mathematical consistency</li>
<li>Enable probability calculations</li>
<li>Form foundation for statistics</li>
</ul>
</div>
</div>
</div>
<div class="notes">
<p>These formal features of probability were first defined by the Russian mathematician Andrei Kolmogorov. These are the features that a value has to have if it is going to be a probability.</p>
<p>Let’s say that we have a sample space defined by N independent events, <span class="math inline">\({E_1, E_2, ... , E_N}\)</span>, and <span class="math inline">\(X\)</span> is a random variable denoting which of the events has occurred. <span class="math inline">\(\mathrm{P}(X=E_i)\)</span> is the probability of event <span class="math inline">\(i\)</span>.</p>
<p>The second point means that if we take the probability of each Ei and add them up, they must sum to 1. The third point is implied by the second; since they must sum to one, and they can’t be negative, then any particular probability cannot exceed one.</p>
</div>
</section>
<section id="how-do-we-determine-probabilities" class="level2 smaller" data-number="5.5">
<h2 class="smaller anchored" data-number="5.5" data-anchor-id="how-do-we-determine-probabilities"><span class="header-section-number">5.5</span> How Do We Determine Probabilities?</h2>
<p>Three main approaches:</p>
<div class="incremental">
<section id="personal-belief" class="level3" data-number="5.5.1">
<h3 data-number="5.5.1" class="anchored" data-anchor-id="personal-belief"><span class="header-section-number">5.5.1</span> Personal Belief</h3>
<ul class="incremental">
<li>Based on knowledge and experience</li>
<li>Example: Bernie Sanders winning 2016 election</li>
<li>Subjective but sometimes necessary</li>
<li>Cannot verify through experiments</li>
</ul>
</section>
<section id="empirical-frequency" class="level3" data-number="5.5.2">
<h3 data-number="5.5.2" class="anchored" data-anchor-id="empirical-frequency"><span class="header-section-number">5.5.2</span> Empirical Frequency</h3>
<ul class="incremental">
<li>Based on actual data collection</li>
<li>Example: Rain in San Francisco
<ul class="incremental">
<li>73 rainy days in 2017</li>
<li><span class="math inline">\(\mathrm{P}(\mathrm{rain}) = 73/375\)</span></li>
</ul></li>
<li>Requires sufficient data</li>
</ul>
</section>
<section id="classical-probability" class="level3" data-number="5.5.3">
<h3 data-number="5.5.3" class="anchored" data-anchor-id="classical-probability"><span class="header-section-number">5.5.3</span> Classical Probability</h3>
<ul class="incremental">
<li>Based on equally likely outcomes</li>
<li>Example: Fair six-sided die
<ul class="incremental">
<li><span class="math inline">\(\mathrm{P}(\mathrm{rolling\ a\ }6) = 1/6\)</span></li>
</ul></li>
<li>Mathematical approach</li>
</ul>
</section>
</div>
</section>
<section id="probability-distributions-free-throw-example" class="level2 smaller" data-number="5.6">
<h2 class="smaller anchored" data-number="5.6" data-anchor-id="probability-distributions-free-throw-example"><span class="header-section-number">5.6</span> Probability Distributions: Free Throw Example</h2>
<p>Steph Curry’s free throw success in 4 attempts:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>curry_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">numSuccesses =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">4</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Probability =</span> <span class="fu">dbinom</span>(numSuccesses, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">prob =</span> <span class="fl">0.91</span>),</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">CumulativeProbability =</span> <span class="fu">pbinom</span>(numSuccesses, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">prob =</span> <span class="fl">0.91</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(curry_df, <span class="at">caption=</span><span class="st">'Simple and cumulative probability distributions'</span>, <span class="at">digits=</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Simple and cumulative probability distributions</caption>
<thead>
<tr class="header">
<th style="text-align: right;">numSuccesses</th>
<th style="text-align: right;">Probability</th>
<th style="text-align: right;">CumulativeProbability</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.0001</td>
<td style="text-align: right;">0.0001</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.0027</td>
<td style="text-align: right;">0.0027</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.0402</td>
<td style="text-align: right;">0.0430</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.2713</td>
<td style="text-align: right;">0.3143</td>
</tr>
<tr class="odd">
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.6857</td>
<td style="text-align: right;">1.0000</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="incremental">
<ul class="incremental">
<li><strong>Understanding the Table</strong>:
<ul class="incremental">
<li>numSuccesses: Number of successful free throws</li>
<li>Probability: Chance of exactly that many successes</li>
<li>CumulativeProbability: Chance of that many or fewer successes</li>
</ul></li>
<li><strong>Key Insights</strong>:
<ul class="incremental">
<li>Most likely outcome: 4 successes (0.6853)</li>
<li>Very unlikely to make 0-2 shots (0.0421)</li>
<li>Shows why Curry is considered elite</li>
</ul></li>
</ul>
</div>
<div class="notes">
<ol type="1">
<li><p>Personal Belief:</p>
<ul>
<li>Used when we can’t do the actual experiment</li>
<li>Example: What if Bernie Sanders had been the Democratic nominee in 2016?</li>
<li>Based on knowledge of politics, polls, historical data</li>
<li>Limitations: Subjective, can vary between experts</li>
<li>Often the only available method for unique events</li>
</ul></li>
<li><p>Empirical Frequency:</p>
<ul>
<li>Most scientific approach when data is available</li>
<li>San Francisco rain example:
<ul>
<li>Define the experiment: Check daily rain data</li>
<li>Count outcomes: 73 rainy days in 2017</li>
<li>Calculate probability: 73/365 = 0.2</li>
</ul></li>
<li>Advantages:
<ul>
<li>Based on actual data</li>
<li>Can be verified and repeated</li>
</ul></li>
<li>Limitations:
<ul>
<li>Requires sufficient data</li>
<li>Past data may not predict future events</li>
<li>Sample size affects accuracy</li>
</ul></li>
</ul></li>
<li><p>Classical Probability:</p>
<ul>
<li>Based on equally likely outcomes</li>
<li>Examples from games of chance:
<ul>
<li>Die rolls: Each number has 1/6 probability</li>
<li>Coin flips: Heads and tails each 1/2</li>
</ul></li>
<li>Advantages:
<ul>
<li>Can calculate without data collection</li>
<li>Precise mathematical basis</li>
</ul></li>
<li>Limitations:
<ul>
<li>Requires truly equal probabilities</li>
<li>Rare in real-world situations</li>
</ul></li>
</ul></li>
</ol>
<p>Teaching tips:</p>
<ul>
<li>Start with personal belief examples to engage students</li>
<li>Use San Francisco rain data to show how empirical probability works</li>
<li>Use dice/coins to demonstrate classical probability</li>
<li>Emphasize that different methods suit different situations</li>
</ul>
<p>Time allocation: 8 minutes for this section</p>
<ul>
<li>2-3 minutes for personal belief</li>
<li>3-4 minutes for empirical frequency with SF example</li>
<li>2-3 minutes for classical probability</li>
</ul>
</div>
</section>
<section id="law-of-large-numbers" class="level2 smaller" data-number="5.7">
<h2 class="smaller anchored" data-number="5.7" data-anchor-id="law-of-large-numbers"><span class="header-section-number">5.7</span> Law of Large Numbers</h2>
<p>As we increase the number of trials, our empirical probability approaches the true probability.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12345</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>nsamples <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>sampDf <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">trial_number =</span> <span class="fu">seq</span>(nsamples),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">outcomes =</span> <span class="fu">rbinom</span>(nsamples, <span class="dv">1</span>, <span class="fl">0.5</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_probability =</span> <span class="fu">cumsum</span>(outcomes) <span class="sc">/</span> <span class="fu">seq_along</span>(outcomes))</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sampDf <span class="sc">|&gt;</span> <span class="fu">slice</span>(<span class="dv">10</span><span class="sc">:</span>nsamples), </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> trial_number, <span class="at">y =</span> mean_probability)) <span class="sc">+</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Number of trials"</span>,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Estimated probability of heads"</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Coin Flip Simulation"</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="probability-slides_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="incremental">
<ul class="incremental">
<li><strong>Understanding the Graph:</strong>
<ul class="incremental">
<li>Blue line: True probability (0.5)</li>
<li>Black line: Observed probability</li>
<li>High variability with small samples</li>
<li>Converges to true value over time</li>
</ul></li>
<li><strong>The “Law of Small Numbers”:</strong>
<ul class="incremental">
<li>Common mistake: treating small samples like large ones</li>
<li>Term coined by Kahneman and Tversky</li>
<li>Even trained researchers make this error</li>
<li>Early results can be misleading</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<p><strong>Real-World Example: 2017 Alabama Senate Election</strong></p>
<ul>
<li>Early results highly volatile
<ul>
<li>Initial large lead for Jones</li>
<li>Switched to Moore leading</li>
<li>Finally Jones won</li>
</ul></li>
<li>Perfect illustration of why we need sufficient data</li>
<li>Applies to:
<ul>
<li>Opinion polls</li>
<li>Medical studies</li>
<li>Market research</li>
</ul></li>
</ul>
</div>
<div class="notes">
<p>The Law of Large Numbers is a fundamental principle in probability theory that helps us understand why empirical probability works. It shows that as we increase our sample size, our observed probability gets closer to the true probability.</p>
<p>Key Points: 1. Coin Flip Simulation:</p>
<ul>
<li>Blue dashed line shows true probability (0.5)</li>
<li>Black line shows observed probability</li>
<li>Notice high variability with small samples</li>
<li>Convergence to true probability with more flips</li>
</ul>
<ol start="2" type="1">
<li><p>Alabama Senate Election Example:</p>
<ul>
<li>December 2017 special election between Doug Jones and Roy Moore</li>
<li>Early in the evening, vote counts were especially volatile</li>
<li>Initial large lead for Jones</li>
<li>Switched to long period where Moore had the lead</li>
<li>Finally Jones took the lead to win the race</li>
<li>Perfect illustration of why early results can be misleading</li>
</ul></li>
<li><p>The “Law of Small Numbers”:</p>
<ul>
<li>Term coined by Kahneman and Tversky</li>
<li>Common mistake: treating small samples like large ones</li>
<li>Even trained researchers make this error</li>
<li>Important implications for research and decision-making</li>
</ul></li>
<li><p>Practical Implications:</p>
<ul>
<li>Need large samples for reliable probability estimates</li>
<li>Early results or small samples can be very misleading</li>
<li>Particularly important in:
<ul>
<li>Opinion polls</li>
<li>Medical studies</li>
<li>Market research</li>
<li>Quality control</li>
</ul></li>
</ul></li>
</ol>
<p>Teaching Tips:</p>
<ul>
<li>Use interactive examples to demonstrate variability</li>
<li>Connect to students’ experience with sports statistics</li>
<li>Discuss implications for research and decision-making</li>
<li>Emphasize why we need sufficient data for reliable conclusions</li>
</ul>
<p>Time allocation: 5 minutes</p>
<ul>
<li>2 minutes for coin flip simulation</li>
<li>2 minutes for Alabama election example</li>
<li>1 minute for implications and discussion</li>
</ul>
</div>
</section>
<section id="classical-probability-de-mérés-problem" class="level2 smaller" data-number="5.8">
<h2 class="smaller anchored" data-number="5.8" data-anchor-id="classical-probability-de-mérés-problem"><span class="header-section-number">5.8</span> Classical Probability: de Méré’s Problem</h2>
<p>A famous gambling problem that helped develop probability theory:</p>
<div class="incremental">
<ol class="incremental" type="1">
<li><p><strong>First Game</strong>: At least one six in four dice rolls</p>
<ul class="incremental">
<li>de Méré’s calculation: <span class="math inline">\(4 \cdot \frac{1}{6} = 2/3\)</span></li>
<li>Actual probability: <span class="math inline">\(1 - \left( \frac{5}{6} \right)^4 = 0.517\)</span></li>
<li>He made money on this bet!</li>
</ul></li>
<li><p><strong>Second Game</strong>: At least one double-six in 24 rolls of two dice</p>
<ul class="incremental">
<li>de Méré’s calculation: <span class="math inline">\(24 \cdot \frac{1}{36} = 2/3\)</span></li>
<li>Actual probability: <span class="math inline">\(1 - \left( \frac{35}{36} \right)^{24} = 0.491\)</span></li>
<li>He lost money on this bet</li>
</ul></li>
</ol>
</div>
</section>
<section id="de-mérés-problem-visual-analysis" class="level2 smaller" data-number="5.9">
<h2 class="smaller anchored" data-number="5.9" data-anchor-id="de-mérés-problem-visual-analysis"><span class="header-section-number">5.9</span> de Méré’s Problem: Visual Analysis</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>imgmtx <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="dv">6</span>, <span class="at">ncol =</span> <span class="dv">6</span>) </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>imgmtx[, <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>imgmtx[<span class="dv">6</span>, ] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  imgmtx <span class="sc">|&gt;</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">melt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Var1, Var2, <span class="at">fill =</span> value)) <span class="sc">+</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradientn</span>(<span class="at">colours=</span><span class="fu">c</span>(<span class="st">"#0000FFFF"</span>,<span class="st">"#FFFFFFFF"</span>,<span class="st">"#FF0000FF"</span>)) <span class="sc">+</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_raster</span>(<span class="at">interpolate =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq</span>(<span class="fl">0.5</span>, <span class="fl">6.5</span>)) {</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  plot <span class="ot">&lt;-</span> plot <span class="sc">+</span> <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> i, <span class="at">color =</span> <span class="st">"white"</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  plot <span class="ot">&lt;-</span> plot <span class="sc">+</span> <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> i, <span class="at">color =</span> <span class="st">"white"</span>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="fu">seq</span>(<span class="fl">0.5</span>, <span class="fl">6.5</span>)) {</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    plot <span class="ot">&lt;-</span> plot <span class="sc">+</span> <span class="fu">annotate</span>(</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">"text"</span>, </span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> i <span class="sc">+</span> <span class="fl">0.5</span>, <span class="at">y =</span> <span class="fl">6.5</span> <span class="sc">-</span> j,</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"%d,%d"</span>, i <span class="sc">+</span> <span class="fl">0.5</span>, j <span class="sc">+</span> <span class="fl">0.5</span>), </span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">"white"</span>)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>plot <span class="sc">+</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Throw 1"</span>,</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Throw 2"</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="probability-slides_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="incremental">
<ul class="incremental">
<li>Matrix shows all possible outcomes of two dice throws</li>
<li>Red cells: Getting a six on either throw</li>
<li>Blue cells: No sixes</li>
<li>White cell (6,6): Double six counted only once</li>
<li>Shows why simple addition is wrong</li>
</ul>
</div>
<div class="notes">
<p>This historical example introduces several key probability concepts:</p>
<ol type="1">
<li><p>The Problem:</p>
<ul>
<li>Chevalier de Méré was a French gambler</li>
<li>Played two different dice games</li>
<li>Consulted mathematician Blaise Pascal</li>
<li>Led to development of probability theory</li>
</ul></li>
<li><p>de Méré’s Error:</p>
<ul>
<li>Simply added individual probabilities</li>
<li>Didn’t account for overlap in multiple events</li>
<li>Shows why we need formal probability rules</li>
<li>Common mistake even today</li>
</ul></li>
<li><p>Pascal’s Solution:</p>
<ul>
<li>Instead of calculating success directly</li>
<li>Calculated probability of no success</li>
<li>Then used complement rule: <span class="math inline">\(\mathrm{P(success)} = 1 - \mathrm{P(no success)}\)</span></li>
<li>For first game: <span class="math inline">\(1 - \left( \frac{5}{6} \right)^4 = 0.517\)</span></li>
<li>For second game: <span class="math inline">\(1 - \left( \frac{35}{36} \right)^{24} = 0.491\)</span></li>
</ul></li>
<li><p>Key Lessons:</p>
<ul>
<li>Simple addition of probabilities often wrong</li>
<li>Multiple events require careful calculation</li>
<li>Sometimes easier to calculate complement</li>
<li>Small differences in probability matter</li>
<li>Mathematical analysis can reveal gambling errors</li>
</ul></li>
</ol>
<p>Teaching Tips:</p>
<ul>
<li>Use this to introduce probability rules</li>
<li>Show why intuition can be misleading</li>
<li>Demonstrate practical value of mathematical analysis</li>
<li>Connect to modern probability applications</li>
</ul>
<p>Time allocation: 7 minutes</p>
<ul>
<li>2 minutes for historical context</li>
<li>3 minutes for calculations</li>
<li>2 minutes for implications</li>
</ul>
</div>
</section>
<section id="conditional-probability" class="level2 smaller" data-number="5.10">
<h2 class="smaller anchored" data-number="5.10" data-anchor-id="conditional-probability"><span class="header-section-number">5.10</span> Conditional Probability</h2>
<p>The probability of an event occurring, given that another event has occurred.</p>
<div class="incremental">
<ul class="incremental">
<li><strong>Formula</strong>: <span class="math inline">\(P(A|B) = \frac{P(A \cap B)}{P(B)}\)</span>
<ul class="incremental">
<li><span class="math inline">\(P(A|B)\)</span> reads as “probability of A given B”</li>
<li><span class="math inline">\(P(A \cap B)\)</span> is the joint probability</li>
<li><span class="math inline">\(P(B)\)</span> is the overall probability of B</li>
</ul></li>
<li><strong>Visual Representation</strong>:
<ul class="incremental">
<li>Total population splits into groups (e.g., voters by party)</li>
<li>Each group further splits by outcome (e.g., voting choice)</li>
<li>Conditional probability focuses on one branch</li>
</ul></li>
</ul>
</div>
</section>
<section id="health-data-example" class="level2 smaller" data-number="5.11">
<h2 class="smaller anchored" data-number="5.11" data-anchor-id="health-data-example"><span class="header-section-number">5.11</span> Health Data Example</h2>
<p>NHANES data on physical activity and diabetes:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize NHANES data for diabetes and physical activity</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>NHANES_diabetes_activity <span class="ot">&lt;-</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  NHANES <span class="sc">|&gt;</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(ID, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(PhysActive, Diabetes)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>NHANES_diabetes_stats_by_activity <span class="ot">&lt;-</span> </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  NHANES_diabetes_activity <span class="sc">|&gt;</span> </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Diabetes, PhysActive) <span class="sc">|&gt;</span> </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">prob =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(NHANES_diabetes_stats_by_activity, <span class="at">caption=</span><span class="st">'Joint probabilities for Diabetes and Physical Activity'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Joint probabilities for Diabetes and Physical Activity</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Diabetes</th>
<th style="text-align: left;">PhysActive</th>
<th style="text-align: right;">n</th>
<th style="text-align: right;">prob</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">No</td>
<td style="text-align: left;">No</td>
<td style="text-align: right;">2123</td>
<td style="text-align: right;">0.3900423</td>
</tr>
<tr class="even">
<td style="text-align: left;">No</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: right;">2770</td>
<td style="text-align: right;">0.5089105</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Yes</td>
<td style="text-align: left;">No</td>
<td style="text-align: right;">349</td>
<td style="text-align: right;">0.0641191</td>
</tr>
<tr class="even">
<td style="text-align: left;">Yes</td>
<td style="text-align: left;">Yes</td>
<td style="text-align: right;">201</td>
<td style="text-align: right;">0.0369282</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="incremental">
<ul class="incremental">
<li><strong>Understanding the Data</strong>:
<ul class="incremental">
<li>Joint probabilities show overlap between conditions</li>
<li>Can calculate: <span class="math inline">\(P(diabetes|inactive)\)</span></li>
<li>Shows real-world health relationships</li>
</ul></li>
<li><strong>Key Insights</strong>:
<ul class="incremental">
<li>Physical activity associated with lower diabetes risk</li>
<li>Example of how conditional probability informs health research</li>
<li>Useful for public health recommendations</li>
</ul></li>
</ul>
</div>
<div class="notes">
<p>So far we have limited ourselves to simple probabilities - that is, the probability of a single event or combination of events. However, we often wish to determine the probability of some event given that some other event has occurred, which are known as conditional probabilities.</p>
<p>Let’s take the 2016 US Presidential election as an example. There are two simple probabilities that we could use to describe the electorate. First, we know the probability that a voter in the US is affiliated with the Republican party: p(Republican) = 0.44. We also know the probability that a voter cast their vote in favor of Donald Trump: p(Trump voter)=0.46. However, let’s say that we want to know the following: What is the probability that a person cast their vote for Donald Trump, given that they are a Republican?</p>
<p>To compute the conditional probability of A given B (which we write as P(A|B), “probability of A, given B”), we need to know the joint probability (that is, the probability of both A and B occurring) as well as the overall probability of B.</p>
</div>
</section>
<section id="independence" class="level2 smaller" data-number="5.12">
<h2 class="smaller anchored" data-number="5.12" data-anchor-id="independence"><span class="header-section-number">5.12</span> Independence</h2>
<p>Two events are independent if:</p>
<p><span class="math inline">\(P(A|B) = P(A)\)</span></p>
<div class="fragment">
<p><strong>Example 1: Political Independence</strong></p>
<ul>
<li>California vs proposed state of Jefferson</li>
<li><span class="math inline">\(P(Jeffersonian) = 0.014\)</span></li>
<li><span class="math inline">\(P(Californian) = 0.986\)</span></li>
<li>Not independent: If you’re Jeffersonian, you can’t be Californian!</li>
</ul>
</div>
</section>
<section id="independence-health-example" class="level2 smaller" data-number="5.13">
<h2 class="smaller anchored" data-number="5.13" data-anchor-id="independence-health-example"><span class="header-section-number">5.13</span> Independence: Health Example</h2>
<p>NHANES data on physical activity and mental health:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compute probabilities for mental health and physical activity</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>NHANES_adult <span class="ot">&lt;-</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  NHANES <span class="sc">|&gt;</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    Age <span class="sc">&gt;=</span> <span class="dv">18</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(PhysActive),</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(DaysMentHlthBad)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">badMentalHealth =</span> DaysMentHlthBad <span class="sc">&gt;</span> <span class="dv">7</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">badMentalHealth =</span> <span class="fu">case_when</span>(</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>      badMentalHealth <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Bad Mental Health"</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>      badMentalHealth <span class="sc">==</span> <span class="cn">FALSE</span> <span class="sc">~</span> <span class="st">"Good Mental Health"</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    )) </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>NHANES_mentalhealth_by_physactive_counts <span class="ot">&lt;-</span> NHANES_adult <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(PhysActive, badMentalHealth) <span class="sc">|&gt;</span> <span class="fu">adorn_totals</span>(<span class="fu">c</span>(<span class="st">"row"</span>, <span class="st">"col"</span>))</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(NHANES_mentalhealth_by_physactive_counts, <span class="at">caption=</span><span class="st">'Mental health status by physical activity level'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Mental health status by physical activity level</caption>
<thead>
<tr class="header">
<th style="text-align: left;">PhysActive</th>
<th style="text-align: right;">Bad Mental Health</th>
<th style="text-align: right;">Good Mental Health</th>
<th style="text-align: right;">Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">No</td>
<td style="text-align: right;">629</td>
<td style="text-align: right;">2510</td>
<td style="text-align: right;">3139</td>
</tr>
<tr class="even">
<td style="text-align: left;">Yes</td>
<td style="text-align: right;">471</td>
<td style="text-align: right;">3095</td>
<td style="text-align: right;">3566</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total</td>
<td style="text-align: right;">1100</td>
<td style="text-align: right;">5605</td>
<td style="text-align: right;">6705</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="incremental">
<ul class="incremental">
<li><strong>Testing Independence</strong>:
<ul class="incremental">
<li>Compare <span class="math inline">\(P(bad\ mental\ health|active)\)</span> vs <span class="math inline">\(P(bad\ mental\ health)\)</span></li>
<li>If equal, variables would be independent</li>
<li>Data shows they are not independent</li>
<li>Physical and mental health are related</li>
</ul></li>
</ul>
</div>
<div class="notes">
<p>The term “independent” has a very specific meaning in statistics, which is somewhat different from the common usage of the term. Statistical independence between two variables means that knowing the value of one variable doesn’t tell us anything about the value of the other.</p>
<p>Looking at it this way, we see that many cases of what we would call “independence” in the real world are not actually statistically independent. For example, there is currently a move by a small group of California citizens to declare a new independent state called Jefferson, which would comprise a number of counties in northern California and Oregon. If this were to happen, then the probability that a current California resident would now live in the state of Jefferson would be P(Jeffersonian)=0.014, whereas the probability that they would remain a California resident would be P(Californian)=0.986.</p>
<p>The new states might be politically independent, but they would not be statistically independent, because if we know that a person is Jeffersonian, then we can be sure that they are not Californian! Statistical independence refers to the case where one cannot predict anything about one variable from the value of another variable. For example, knowing a person’s hair color is unlikely to tell you whether they prefer chocolate or strawberry ice cream.</p>
</div>
</section>
<section id="bayes-rule" class="level2 smaller" data-number="5.14">
<h2 class="smaller anchored" data-number="5.14" data-anchor-id="bayes-rule"><span class="header-section-number">5.14</span> Bayes’ Rule</h2>
<p>A powerful tool for updating probabilities based on new evidence:</p>
<div class="incremental">
<ul class="incremental">
<li><p><strong>Basic Form</strong>: <span class="math inline">\(P(B|A) = \frac{P(A|B) \cdot P(B)}{P(A)}\)</span></p></li>
<li><p><strong>Expanded Form</strong>: <span class="math inline">\(P(B|A) = \frac{P(A|B) \cdot P(B)}{P(A|B) \cdot P(B) + P(A|\neg B) \cdot P(\neg B)}\)</span></p></li>
<li><p><strong>Components</strong>:</p>
<ul class="incremental">
<li><span class="math inline">\(P(B|A)\)</span> = Updated probability (posterior)</li>
<li><span class="math inline">\(P(A|B)\)</span> = Likelihood of evidence</li>
<li><span class="math inline">\(P(B)\)</span> = Initial probability (prior)</li>
<li><span class="math inline">\(P(A)\)</span> = Overall probability of evidence</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<p><strong>Medical Screening Example: PSA Test</strong></p>
<ul>
<li>Given:
<ul>
<li>Sensitivity = <span class="math inline">\(P(positive|cancer) = 0.8\)</span></li>
<li>Specificity = <span class="math inline">\(P(negative|no\ cancer) = 0.7\)</span></li>
<li>Base rate = <span class="math inline">\(P(cancer) = 0.058\)</span></li>
</ul></li>
<li>Calculation:
<ul>
<li><span class="math inline">\(P(cancer|positive) = \frac{0.8 \cdot 0.058}{0.8 \cdot 0.058 + 0.3 \cdot 0.942}\)</span></li>
<li><span class="math inline">\(= 0.14\)</span> (only 14% chance of cancer)</li>
<li>Shows importance of considering base rates!</li>
</ul></li>
</ul>
</div>
<div class="notes">
<p>In many cases, we know <span class="math inline">\(\mathrm{P(A|B)}\)</span> but we really want to know <span class="math inline">\(\mathrm{P(B|A)}\)</span>. This commonly occurs in medical screening, where we know <span class="math inline">\(\mathrm{P(positive\ test\ result|disease)}\)</span> but what we want to know is <span class="math inline">\(\mathrm{P(disease|positive\ test\ result)}\)</span>.</p>
<p>For example, some doctors recommend that men over the age of 50 undergo screening using a test called prostate specific antigen (PSA) to screen for possible prostate cancer. Before a test is approved for use in medical practice, the manufacturer needs to test two aspects of the test’s performance:</p>
<ol type="1">
<li>Sensitivity - how likely is it to find the disease when it is present</li>
<li>Specificity - how likely is it to give a negative result when there is no disease present</li>
</ol>
<p>For the PSA test, sensitivity is about 80% and specificity is about 70%. However, these don’t answer the question that the physician wants to answer for any particular patient: what is the likelihood that they actually have cancer, given that the test comes back positive?</p>
<p>Using Bayes’ rule with these numbers: <span class="math inline">\(\mathrm{P(cancer|test)} = \frac{(0.8 \cdot 0.058)}{(0.8 \cdot 0.058 + 0.3 \cdot 0.942)} = 0.14\)</span></p>
<p>That’s pretty small – do you find that surprising? Many people do, and in fact there is a substantial psychological literature showing that people systematically neglect base rates (i.e.&nbsp;overall prevalence) in their judgments.</p>
</div>
</section>
<section id="odds-and-odds-ratios" class="level2 smaller" data-number="5.15">
<h2 class="smaller anchored" data-number="5.15" data-anchor-id="odds-and-odds-ratios"><span class="header-section-number">5.15</span> Odds and Odds Ratios</h2>
<p>Converting between probability and odds:</p>
<div class="incremental">
<ul class="incremental">
<li><strong>Formulas</strong>:
<ul class="incremental">
<li>Odds = <span class="math inline">\(\frac{P(event)}{P(not\ event)}\)</span></li>
<li>Probability = <span class="math inline">\(\frac{odds}{1 + odds}\)</span></li>
<li>Odds Ratio = <span class="math inline">\(\frac{posterior\ odds}{prior\ odds}\)</span></li>
</ul></li>
<li><strong>PSA Test Example Calculations</strong>:
<ul class="incremental">
<li>Prior odds = <span class="math inline">\(\frac{0.058}{1-0.058} = 0.061\)</span></li>
<li>Posterior odds = <span class="math inline">\(\frac{0.14}{1-0.14} = 0.16\)</span></li>
<li>Odds ratio = <span class="math inline">\(\frac{0.16}{0.061} = 2.62\)</span></li>
</ul></li>
</ul>
</div>
<div class="fragment">
<p><strong>Interpreting Results</strong>:</p>
<ul>
<li>Prior odds: 1:16 chance of cancer before test</li>
<li>Posterior odds: 1:6 chance after positive test</li>
<li>Odds ratio of 2.62 means:
<ul>
<li>Risk increased 2.62 times</li>
<li>But absolute risk still low (14%)</li>
<li>Shows why screening rare conditions is problematic</li>
</ul></li>
</ul>
</div>
<div class="notes">
<p>The result in the PSA example showed that the likelihood that the individual has cancer based on a positive PSA test result is still fairly low (0.14), even though it’s more than twice as big as it was before we knew the test result. We would often like to quantify the relation between probabilities more directly, which we can do by converting them into odds which express the relative likelihood of something happening or not.</p>
<p>In our PSA example:</p>
<p>Prior odds = P(cancer)/P(not cancer) = <span class="math inline">\(\frac{0.058}{1-0.058} = 0.061\)</span></p>
<p>Posterior odds = <span class="math inline">\(\frac{0.14}{1-0.14} = 0.16\)</span></p>
<p>Odds ratio = <span class="math inline">\(\frac{0.16}{0.061} = 2.62\)</span></p>
<p>This tells us that the odds of having cancer are increased by 2.62 times given the positive test result. An odds ratio is an example of what we will later call an effect size, which is a way of quantifying how relatively large any particular statistical effect is.</p>
<p>As an aside, this is a reason why many medical researchers have become increasingly wary of the use of widespread screening tests for relatively uncommon conditions; most positive results will turn out to be false positives, resulting in unnecessary followup tests with possible complications, not to mention added stress for the patient.</p>
</div>
</section>
<section id="summary" class="level2" data-number="5.16">
<h2 data-number="5.16" class="anchored" data-anchor-id="summary"><span class="header-section-number">5.16</span> Summary</h2>
<div class="incremental">
<ul class="incremental">
<li>Probability quantifies uncertainty</li>
<li>Three ways to determine probabilities</li>
<li>Conditional probability for related events</li>
<li>Bayes’ rule for updating beliefs</li>
<li>Importance of base rates</li>
</ul>
</div>
<div class="notes">
<p>Key takeaways from this lecture:</p>
<ol type="1">
<li>Probability theory provides mathematical tools to describe uncertain events</li>
<li>We can determine probabilities through:
<ul>
<li>Personal belief (subjective but sometimes necessary)</li>
<li>Empirical frequency (based on observed data)</li>
<li>Classical probability (based on equally likely outcomes)</li>
</ul></li>
<li>The law of large numbers shows how empirical probability converges to true probability</li>
<li>Conditional probability helps us understand related events</li>
<li>Bayes’ rule allows us to update probabilities based on new evidence</li>
<li>Base rates are crucial but often neglected in probability judgments</li>
</ol>
</div>
</section>
<section id="questions" class="level2" data-number="5.17">
<h2 data-number="5.17" class="anchored" data-anchor-id="questions"><span class="header-section-number">5.17</span> Questions?</h2>
<p>Thank you for your attention!</p>
<div class="notes">
<p>Suggested readings for students interested in learning more:</p>
<ul>
<li>The Drunkard’s Walk: How Randomness Rules Our Lives, by Leonard Mlodinow</li>
<li>Ten Great Ideas about Chance, by Persi Diaconis and Brian Skyrms</li>
</ul>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Poldrack2023Statistical" class="csl-entry" role="listitem">
Poldrack, Russell A. 2023. <em>Statistical Thinking. <span>Analyzing</span> Data in an Uncertain World</em>. Princeton: Princeton University Press. <a href="https://statsthinking21.github.io/statsthinking21-core-site/">https://statsthinking21.github.io/statsthinking21-core-site/</a>.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../Week2/live-slides.html" class="pagination-link" aria-label="Data Visualization">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Visualization</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../Week3/sampling-slides.html" class="pagination-link" aria-label="Sampling">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Sampling</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>